{"semantic_models": [{"name": "trips_users_metrics", "defaults": {"agg_time_dimension": "started_at"}, "description": "Trips with users metadata fact table", "node_relation": {"alias": "trips_users", "schema_name": "dbt", "database": "dev_m0z9", "relation_name": "\"dev_m0z9\".\"dbt\".\"trips_users\""}, "primary_entity": null, "entities": [{"name": "trip", "description": null, "type": "primary", "role": null, "expr": "id", "metadata": null, "label": null, "config": {"meta": {}}}, {"name": "user", "description": null, "type": "foreign", "role": null, "expr": "user_id", "metadata": null, "label": null, "config": {"meta": {}}}, {"name": "scooter", "description": null, "type": "foreign", "role": null, "expr": "scooter_hw_id", "metadata": null, "label": null, "config": {"meta": {}}}], "measures": [{"name": "revenue_sum", "agg": "sum", "description": "The total amount of revenue (in rubles)", "create_metric": false, "expr": "price_rub", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null, "config": {"meta": {}}}, {"name": "trips_count", "agg": "sum", "description": "Total number of performed trips", "create_metric": false, "expr": "1", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null, "config": {"meta": {}}}, {"name": "users_count", "agg": "count_distinct", "description": "Distinct count of users making trips", "create_metric": false, "expr": "user_id", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null, "config": {"meta": {}}}, {"name": "revenue_avg", "agg": "average", "description": "Average revenue (in rubles)", "create_metric": false, "expr": "price_rub", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null, "config": {"meta": {}}}, {"name": "free_trips_count", "agg": "sum_boolean", "description": "Total number of free (unpaid) trips", "create_metric": false, "expr": "is_free", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null, "config": {"meta": {}}}, {"name": "duration_m_median", "agg": "median", "description": "Median duration of trip in minutes", "create_metric": false, "expr": "duration_s / 60.0", "agg_params": null, "metadata": null, "non_additive_dimension": null, "agg_time_dimension": null, "label": null, "config": {"meta": {}}}], "dimensions": [{"name": "sex", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": null, "label": null, "config": {"meta": {}}}, {"name": "age", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": null, "label": null, "config": {"meta": {}}}, {"name": "is_free", "description": null, "type": "categorical", "is_partition": false, "type_params": null, "expr": null, "metadata": null, "label": null, "config": {"meta": {}}}, {"name": "started_at", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": "date(started_at)", "metadata": null, "label": null, "config": {"meta": {}}}, {"name": "finished_date", "description": null, "type": "time", "is_partition": false, "type_params": {"time_granularity": "day", "validity_params": null}, "expr": "date(finished_at)", "metadata": null, "label": null, "config": {"meta": {}}}], "label": null, "metadata": null, "config": {"meta": {}}}], "metrics": [{"name": "revenue_avg", "description": "Average revenue for paid trips", "type": "simple", "type_params": {"measure": {"name": "revenue_avg", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "cumulative_type_params": null, "input_measures": [{"name": "revenue_avg", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_filters": [{"where_sql_template": "{{ Dimension('trip__is_free') }} = false"}]}, "metadata": null, "label": "Average revenue", "config": {"meta": {}}, "time_granularity": null}, {"name": "revenue_cumsum", "description": "Cumulative revenue (in rubles)", "type": "cumulative", "type_params": {"measure": {"name": "revenue_sum", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": null, "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "cumulative_type_params": {"window": null, "grain_to_date": null, "period_agg": "first"}, "input_measures": [{"name": "revenue_sum", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": {"where_filters": [{"where_sql_template": "{{ Dimension('trip__is_free') }} = false"}]}, "metadata": null, "label": "Cumulative revenue", "config": {"meta": {}}, "time_granularity": null}, {"name": "users_count_growth_mom", "description": "Percentage growth of unique users to 1 month ago", "type": "derived", "type_params": {"measure": null, "numerator": null, "denominator": null, "expr": "(users_count - users_count_prev_month) * 100.0 / users_count_prev_month", "window": null, "grain_to_date": null, "metrics": [{"name": "users_count", "filter": null, "alias": null, "offset_window": null, "offset_to_grain": null}, {"name": "users_count", "filter": null, "alias": "users_count_prev_month", "offset_window": {"count": 1, "granularity": "month"}, "offset_to_grain": null}], "conversion_type_params": null, "cumulative_type_params": null, "input_measures": [{"name": "users_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "User total growth % M/M", "config": {"meta": {}}, "time_granularity": null}, {"name": "revenue_sum", "description": "The total amount of revenue (in rubles)", "type": "simple", "type_params": {"measure": {"name": "revenue_sum", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": "revenue_sum", "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "cumulative_type_params": null, "input_measures": [{"name": "revenue_sum", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "revenue_sum", "config": {"meta": {}}, "time_granularity": null}, {"name": "trips_count", "description": "Total number of performed trips", "type": "simple", "type_params": {"measure": {"name": "trips_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": "trips_count", "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "cumulative_type_params": null, "input_measures": [{"name": "trips_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "trips_count", "config": {"meta": {}}, "time_granularity": null}, {"name": "users_count", "description": "Distinct count of users making trips", "type": "simple", "type_params": {"measure": {"name": "users_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": "users_count", "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "cumulative_type_params": null, "input_measures": [{"name": "users_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "users_count", "config": {"meta": {}}, "time_granularity": null}, {"name": "free_trips_count", "description": "Total number of free (unpaid) trips", "type": "simple", "type_params": {"measure": {"name": "free_trips_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": "free_trips_count", "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "cumulative_type_params": null, "input_measures": [{"name": "free_trips_count", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "free_trips_count", "config": {"meta": {}}, "time_granularity": null}, {"name": "duration_m_median", "description": "Median duration of trip in minutes", "type": "simple", "type_params": {"measure": {"name": "duration_m_median", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}, "numerator": null, "denominator": null, "expr": "duration_m_median", "window": null, "grain_to_date": null, "metrics": [], "conversion_type_params": null, "cumulative_type_params": null, "input_measures": [{"name": "duration_m_median", "filter": null, "alias": null, "join_to_timespine": false, "fill_nulls_with": null}]}, "filter": null, "metadata": null, "label": "duration_m_median", "config": {"meta": {}}, "time_granularity": null}], "project_configuration": {"time_spine_table_configurations": [], "metadata": null, "dsi_package_version": {"major_version": "0", "minor_version": "9", "patch_version": "0"}, "time_spines": [{"node_relation": {"alias": "time_spine_daily", "schema_name": "dbt", "database": "dev_m0z9", "relation_name": "\"dev_m0z9\".\"dbt\".\"time_spine_daily\""}, "primary_column": {"name": "date_day", "time_granularity": "day"}, "custom_granularities": []}]}, "saved_queries": []}